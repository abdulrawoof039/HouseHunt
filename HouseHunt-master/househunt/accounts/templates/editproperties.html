<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <link rel="stylesheet" href="adpost.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Mate+SC&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.5.0/mdb.min.css" rel="stylesheet" />
    <title>Post your Ads.</title>
    <script>
        $('.selectpicker').selectpicker({
            liveSearchPlaceholder: 'Placeholder text'
        });
    </script>
    <style>
        #head1 {
            color: white;
        }

        body {
            background-color: azure;
        }

        .navbar {
            background-color: #17a2b8;
        }

        h1 {
            color: green;
        }
        .samecol{
            display:flex;
            flex-direction: row;
            
        }
        .card{
            border:1px solid black;
            float: left;
        }
        .card1{
            background-color: palevioletred;
            padding-left: 10px;
        }
        video {
            max-width: 100%;
        }
        @media screen and (max-width: 600px){
            .samecol{
                flex-direction: column;
            }
        }

    </style>
</head>

<body>
    <nav class="navbar navbar-expand-sm navbar-dark fixed-top">
        <a class="navbar-brand" href="#"><i class="fa fa-home" style="font-size:30px"></i></a>
        <h2 id="head1">HOUSEHUNT</h2>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link active" href="{% url 'dashboard' %}">HOME</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#">ABOUT</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#">CONTACT</a>
                </li>
                <li class="nav-item dropdown active">
                    <a class="nav-link dropdown-toggle" href="http://example.com" id="dropdown09" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{{user.username}}</a>
                    <div class="dropdown-menu" aria-labelledby="dropdown09">
                        <a class="dropdown-item" href="{% url 'profile' %}">My Profile</a>
                        <a class="dropdown-item" href="{% url 'myproperties' %}">My Properties</a>
                        <a class="dropdown-item" href="{% url 'myfavourites' %}">My Favorites</a>
                        <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <br>
    <div class="container-fluid" style="margin-top:40px">
        <nav class="sellrent">
            <section>

                <div class="card ">
                    <div class="card-body">
                        <h1><b>{{mesg}}</b></h1>
                        <h5 class="card-title">Edit your Property </h5>
                        <p class="card-text">What you want to do with your property?</p>
                        <form method='POST' action="" enctype="multipart/form-data">
                            {% csrf_token %}

                            {% if pro.rentorsale == "Rent" %}
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="rentorsale" id="Rent" value="Rent" checked>
                                <label class="form-check-label" for="Rent">Rent</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="rentorsale" id="Sale" value="Sale">
                                <label class="form-check-label" for="Sale">Sale</label>
                            </div>
                            {% else %}
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="rentorsale" id="Sale" value="Sale" checked>
                                <label class="form-check-label" for="Sale">Sale</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="rentorsale" id="Rent" value="Rent">
                                <label class="form-check-label" for="Rent">Rent</label>
                            </div>
                            {% endif %}
                            <br>
                            <div class="form-row align-items-center">
                                <div class="col-auto my-1">
                                    <label class="mr-sm-2">Property Details</label>
                                    <br>
                                    <select class="form-select" name="propertytype" aria-label="Default select example" required>
                                        {% if pro.propertytype == "Individual House" %}
                                        <option selected value="Individual House">Individual House</option>
                                        {% else %}
                                        <option value="Individual House">Individual House</option>
                                        {% endif %}
                                        {% if pro.propertytype == "Flat" %}
                                        <option selected value="Flat">Flat</option>
                                        {% else %}
                                        <option value="Flat">Flat</option>
                                        {% endif %}
                                        {% if pro.propertytype == "Appartments" %}
                                        <option selected value="Appartments">Appartments</option>
                                        {% else %}
                                        <option value="Appartments">Appartments</option>
                                        {% endif %}
                                        {% if pro.propertytype == "Villa/Duplex" %}
                                        <option selected value="Villa/Duplex">Villa/Duplex</option>
                                        {% else %}
                                        <option value="Villa/Duplex">Villa/Duplex</option>
                                        {% endif %}
                                        {% if pro.propertytype == "Farm houses" %}
                                        <option selected value="Farm Houses">Farm Houses</option>
                                        {% else %}
                                        <option value="Farm Houses">Farm Houses</option>
                                        {% endif %}
                                    </select>
                                    <div class="col-md-4">
                                        <br>
                                        <label for="inputCount0" class="form-label">Floor no:</label>
                                        <input type="number" value={{pro.floornumber}} class="form-control" id="inputCount0" name="floornumber" min="0" placeholder="Floor no:, if any" required>
                                        <br>
                                        <label for="inputCount1" class="form-label">Property age</label>
                                        <input type="number" value={{pro.propertyage}} class="form-control" id="inputCount1" min="0" name="propertyage" required>
                                        <br>
                                        <label for="inputCount2" class="form-label">Property area</label>
                                        <input type="number" value={{pro.propertysize}} class="form-control" id="inputCount2" min="0" name="propertysize" required>
                                        <br>
                                        <label for="inputCount3" class="form-label">Total no: rooms</label>
                                        <input type="number" value={{pro.totalrooms}} name="totalrooms" class="form-control" id="inputCount3" min="0" required>
                                        <br>
                                        <label for="inputCount4" class="form-label">No: of Bedrooms</label>
                                        <input type="number" value={{pro.bedrooms}} name="bedrooms" class="form-control" id="inputCount4" min="0" required>
                                        <br>
                                        <label for="inputCount5" class="form-label">No: of Bathrooms</label>
                                        <input type="number" value={{pro.bathrooms}} name="bathrooms" class="form-control" id="inputCount5" min="0" required>
                                        <br>
                                        <label for="inputCount6" class="form-label">Rent per month/Selling Price</label>
                                        <input type="number" value={{pro.money}} name="money" class="form-control" id="inputCount6" min="0" required>
                                        <br>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="inputTenant" class="form-label">Preffered Tenant</label>
                                        <select id="inputTenant" name="tenantspreferred" class="form-select" required>
                                            <option>No restrictions</option>
                                            <option>Family</option>
                                            <option>Bachelor</option>
                                            <option>Students</option>
                                            <option>Foreigners</option>
                                            {% if pro.tenantspreferred == "No restrictions" %}
                                            <option selected>No restrictions</option>
                                            {% else %}
                                            <option>No restrictions</option>
                                            {% endif %}
                                            {% if pro.tenantspreferred == "Family" %}
                                            <option selected>Family</option>
                                            {% else %}
                                            <option>Family</option>
                                            {% endif %}
                                            {% if pro.tenantspreferred == "Bachelor" %}
                                            <option selected>Bachelor</option>
                                            {% else %}
                                            <option>Bachelor</option>
                                            {% endif %}
                                            {% if pro.tenantspreferred == "Students" %}
                                            <option selected>Students</option>
                                            {% else %}
                                            <option>Students</option>
                                            {% endif %}
                                            {% if pro.tenantspreferred == "Foreigners" %}
                                            <option selected>Foreigners</option>
                                            {% else %}
                                            <option>Foreigners</option>
                                            {% endif %}
                                        </select>
                                        <br>
                                        <label for="Furnishing" class="form-label">Furnishing</label>
                                        <select id="Furnishing" name="furnishing" class="form-select" required>
                                            {% if pro.furnishing == "Fully-Furnished" %}
                                            <option selected value="Fully-Furnished">Fully-Furnished</option>
                                            {% else %}
                                            <option value="Fully-Furnished">Fully-Furnished</option>
                                            {% endif %}
                                            {% if pro.furnishing == "Semi-Furnished" %}
                                            <option selected value="Semi-Furnished">Semi-Furnished</option>
                                            {% else %}
                                            <option value="Semi-Furnished">Semi-Furnished</option>
                                            {% endif %}
                                            {% if pro.furnishing == "No-Furnished" %}
                                            <option selected value="No Furnishing">No Furnishing</option>
                                            {% else %}
                                            <option value="No Furnishing">No Furnishing</option>
                                            {% endif %}
                                        </select>
                                        <br>
                                        <label for="amenities" class="form-label">Amenities</label>
                                        <br>
                                        <select class="selectpicker" name="amenities" id="amenities" multiple data-live-search="true" data-live-search-placeholder="Search" required>
                                            {% if 'Elevator' in pro.amenities %}
                                            <option selected value="Elevator">Elevator</option>
                                            {% else %}
                                            <option value="Elevator">Elevator</option>
                                            {% endif %}
                                            {% if 'Air Conditioner' in pro.amenities %}
                                            <option selected value="Air Conditioner">Air Conditioner</option>
                                            {% else %}
                                            <option value="Air Conditioner">Air Conditioner</option>
                                            {% endif %}
                                            {% if 'Internet Services' in pro.amenities %}
                                            <option selected value="Internet Services">Internet Services</option>
                                            {% else %}
                                            <option value="Internet Services">Internet Services</option>
                                            {% endif %}
                                            {% if 'PlayArea' in pro.amenities %}
                                            <option selected value="PlayArea">PlayArea</option>
                                            {% else %}
                                            <option value="PlayArea">PlayArea</option>
                                            {% endif %}

                                            {% if 'CarParking' in pro.amenities %}
                                            <option selected value="CarParking">Car Parking</option>
                                            {% else %}
                                            <option value="CarParking">Car Parking</option>
                                            {% endif %}
                                            {% if 'Swimming Pool' in pro.amenities %}
                                            <option selected value="Swimming Pool">Swimming Pool</option>
                                            {% else %}
                                            <option value="Swimming Pool">Swimming Pool</option>
                                            {% endif %}
                                            {% if 'WaterSupply' in pro.amenities %}
                                            <option selected value="WaterSupply">WaterSupply</option>
                                            {% else %}
                                            <option value="WaterSupply">WaterSupply</option>
                                            {% endif %}
                                            {% if '24 hour Maintenance' in pro.amenities %}
                                            <option selected value="24 hour Maintenance">24 hour Maintenance</option>
                                            {% else %}
                                            <option value="24 hour Maintenance">24 hour Maintenance</option>
                                            {% endif %}
                                            {% if 'Security Services' in pro.amenities %}
                                            <option selected value="Security Services">Security Services</option>
                                            {% else %}
                                            <option value="Security Services">Security Services</option>
                                            {% endif %}
                                            {% if 'Gym' in pro.amenities %}
                                            <option selected value="Gym">Gym</option>
                                            {% else %}
                                            <option value="Gym">Gym</option>
                                            {% endif %}
                                        </select>
                                        <br><br>
                                    </div>
                                    <p>Images uploaded:</p>
                                    <div class="col-mb-3 samecol">
                                       
                                        {% for i in img %}
                                        {% if i.prop == pro %}
                                        <div class="card" name={{i.id}} style=" width: 200px;">
                                            <img src="{{i.image.url}}" alt="img"  name={{i.id}} width="200px" height="200px">
                                            <div class="card-body">
                                                <input type="button" onclick="remove_img(this.getAttribute('name'))" name={{i.id}} value="Remove">
                                            </div>
                                        </div>
                                        &nbsp;&nbsp;&nbsp;&nbsp;
                                        {% endif %}
                                        {% endfor %}
                                    </div>
                                    <div class="col-mb-3">
                                        <br>
                                        <label for="formFileMultiple" class="form-label">Add More Photos</label>
                                        <input class="form-control" type="file" id="formFileMultiple" multiple name="images" accept="image/*" />
                                    </div>
                                    <br>
                                    <p>Videos uploaded:</p>
                                    <div class="col-mb-3 samecol">
                                        <br>
                                        {% for i in vid %}
                                        {% if i.proper == pro %}
                                        <div class="card" name={{i.id}} style="width: 200px;">
                                            <video height="200px" src="{{i.video.url}}" id={{i.id}} controls></video>
                                            <div class="card-body">
                                              <input type="button"  onclick="remove_vid(this.getAttribute('name'))" name={{i.id}} value="Delete">
                                            </div>
                                          </div>
                                          &nbsp;&nbsp;&nbsp;&nbsp;
                                        {% endif %}
                                        {% endfor %}
                                    </div>
                                 
                                    <div class="col-mb-3">
                                        <br>
                                        <label for="formFile" class="form-label">Add More Videos</label>
                                        <input class="form-control" type="file" id="formFile" name="video" multiple accept="video/*" />
                                    </div>
                                   
                                </div>
                                <br>
                                <div class="row g-3">
                                   
                                    <div class="col-12">
                                        <label for="inputAddress" class="form-label">Address</label>
                                        <input type="text" value={{pro.address}} class="form-control" name="address1" id="inputAddress" placeholder="1234 Main St" required>
                                    </div>
                                    <div class="col-12">
                                        <label for="inputAddress2" class="form-label">Address 2</label>
                                        <input type="text" value={{pro.address2}} class="form-control" id="inputAddress2" name="address2" placeholder="Apartment, studio, or floor" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="inputCity" class="form-label">City</label>
                                        <input type="text" value={{pro.city}} class="form-control" name="city" id="inputCity" required>
                                    </div>
                                    <div class="col-md-4">
                                        <label for="inputState" class="form-label">State</label>
                                        <select id="inputState" class="form-select" name="state" required>
                                            <option value="Andhrapradesh">Andhra Pradesh</option>
                                            <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
                                            <option value="Arunachalpradesh">Arunachal Pradesh</option>
                                            <option value="Assam">Assam</option>
                                            <option value="Bihar">Bihar</option>
                                            <option value="Chandigarh">Chandigarh</option>
                                            <option value="Chhattisgarh">Chhattisgarh</option>
                                            <option value="Dadar and Nagar Haveli">Dadar and Nagar Haveli</option>
                                            <option value="Daman and Diu">Daman and Diu</option>
                                            <option value="Delhi">Delhi</option>
                                            <option value="Lakshadweep">Lakshadweep</option>
                                            <option value="Puducherry">Puducherry</option>
                                            <option value="Goa">Goa</option>
                                            <option value="Gujarat">Gujarat</option>
                                            <option value="Haryana">Haryana</option>
                                            <option value="Himachal Pradesh">Himachal Pradesh</option>
                                            <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                            <option value="Jharkhand">Jharkhand</option>
                                            <option value="Karnataka">Karnataka</option>
                                            <option value="Kerala">Kerala</option>
                                            <option value="Madhya Pradesh">Madhya Pradesh</option>
                                            <option value="Maharashtra">Maharashtra</option>
                                            <option value="Manipur">Manipur</option>
                                            <option value="Meghalaya">Meghalaya</option>
                                            <option value="Mizoram">Mizoram</option>
                                            <option value="Nagaland">Nagaland</option>
                                            <option value="Odisha">Odisha</option>
                                            <option value="Punjab">Punjab</option>
                                            <option value="Rajasthan">Rajasthan</option>
                                            <option value="Sikkim">Sikkim</option>
                                            <option value="Tamilnadu">Tamil Nadu</option>
                                            <option value="Telangana">Telangana</option>
                                            <option value="Tripura">Tripura</option>
                                            <option value="Uttarpradesh">Uttar Pradesh</option>
                                            <option value="Uttarakhand">Uttarakhand</option>
                                            <option value="West Bengal">West Bengal</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2">
                                        <label for="inputZip" class="form-label">Zip</label>
                                        <input type="text" value={{pro.pincode}} class="form-control" name="zip" id="inputZip" required>
                                    </div>
                                    <div class="col-md-12">
                                        <label for="location" class="form-label">Location(Google Maps Link)</label>
                                        <input type="url" value={{pro.mapurl}} class="form-control" name="googleurl" id="location" required>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <br>
                                    <label for="description" class="form-label">Description</label>
                                    <textarea class="form-control rounded-1" id="description" name="description" rows="6" required>{{pro.description}}</textarea>
                                </div>
                            </div>
                            <div class="d-grid gap-2 col-4">
                                <br>
                                <button class="btn btn-primary" type="submit" name="submitadd">Save Changes</button>
                            </div>
                            <input type="hidden" id="imgid" name="imgid" value="">
                            <input type="hidden" id="vidid" name="vidid" value="">
                        </form>
                    </div>
                </div>
            </section>
        </nav>
    </div>
    <script>
        s="";
        v="";
        function remove_img(c) {
            var x = document.getElementsByName(c);
            x[0].remove();
            s=s+c+" ";
            document.getElementById("imgid").value=s;
        }
        function remove_vid(c) {
            var x = document.getElementsByName(c);
            x[0].remove();
            v=v+c+" ";
            document.getElementById("vidid").value=v;
        }
    </script>
</body>
</html>